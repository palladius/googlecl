<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>__init__.py</title>
  <link rel="stylesheet" href="../../../pycco.css">
</head>
<body>
<div id="background"></div>
<div id='container'>
  <div class='section'>
    <div class='docs'><h1>__init__.py</h1></div>
  </div>
  <div class='clearall'>
  <div class='section' id='section-0'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-0'>#</a>
      </div>
      <p>Copyright (C) 2010 Google Inc.</p>
<p>Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>
<pre><code> http://www.apache.org/licenses/LICENSE-2.0
</code></pre>
<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">googlecl</span>
<span class="kn">import</span> <span class="nn">googlecl.base</span>
<span class="kn">import</span> <span class="nn">logging</span>


<span class="n">service_name</span> <span class="o">=</span> <span class="n">__name__</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">LOGGER_NAME</span> <span class="o">=</span> <span class="n">__name__</span>
<span class="n">SECTION_HEADER</span> <span class="o">=</span> <span class="n">service_name</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>

<span class="n">LOG</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">LOGGER_NAME</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-1'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-1'>#</a>
      </div>
      <p>Makes the given URL for a picasa image point to the download.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">make_download_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-2'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-2'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>  <span class="k">return</span> <span class="n">url</span><span class="p">[:</span><span class="n">url</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="s">&#39;d&#39;</span><span class="o">+</span><span class="n">url</span><span class="p">[</span><span class="n">url</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">):]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-3'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-3'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">_map_access_string</span><span class="p">(</span><span class="n">access_string</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="s">&#39;private&#39;</span><span class="p">):</span>
  <span class="k">if</span> <span class="ow">not</span> <span class="n">access_string</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">default_value</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-4'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-4'>#</a>
      </div>
      <p>It seems to me that 'private' is less private than 'protected'
but I'm going with what Picasa seems to be using.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>  <span class="n">access_string_mappings</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;public&#39;</span><span class="p">:</span> <span class="s">&#39;public&#39;</span><span class="p">,</span>
                            <span class="s">&#39;private&#39;</span><span class="p">:</span> <span class="s">&#39;protected&#39;</span><span class="p">,</span>
                            <span class="s">&#39;protected&#39;</span><span class="p">:</span> <span class="s">&#39;private&#39;</span><span class="p">,</span>
                            <span class="s">&#39;draft&#39;</span><span class="p">:</span> <span class="s">&#39;private&#39;</span><span class="p">,</span>
                            <span class="s">&#39;hidden&#39;</span><span class="p">:</span> <span class="s">&#39;private&#39;</span><span class="p">,</span>
                            <span class="s">&#39;link&#39;</span><span class="p">:</span> <span class="s">&#39;private&#39;</span><span class="p">}</span>
  <span class="k">try</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">access_string_mappings</span><span class="p">[</span><span class="n">access_string</span><span class="p">]</span>
  <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">re</span>
    <span class="k">if</span> <span class="n">access_string</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;link&#39;</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
      <span class="k">return</span> <span class="s">&#39;private&#39;</span>
  <span class="k">return</span> <span class="n">default_value</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-5'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-5'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">class</span> <span class="nc">PhotoEntryToStringWrapper</span><span class="p">(</span><span class="n">googlecl</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">BaseEntryToStringWrapper</span><span class="p">):</span>
  <span class="n">caption</span> <span class="o">=</span> <span class="n">googlecl</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">BaseEntryToStringWrapper</span><span class="o">.</span><span class="n">summary</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-6'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-6'>#</a>
      </div>
      <p>The distance to the subject.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">distance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-7'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-7'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">entry</span><span class="o">.</span><span class="n">exif</span><span class="o">.</span><span class="n">distance</span><span class="o">.</span><span class="n">text</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-8'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-8'>#</a>
      </div>
      <p>Exposure value, if possible to calculate</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">ev</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-9'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-9'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">try</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-10'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-10'>#</a>
      </div>
      <p>Using the equation for EV I found on Wikipedia...</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>      <span class="n">N</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fstop</span><span class="p">)</span>
      <span class="n">t</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exposure</span><span class="p">)</span>
      <span class="kn">import</span> <span class="nn">math</span>       <span class="c"># import math if fstop and exposure work</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-11'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-11'>#</a>
      </div>
      <p>str() actually "rounds" floats. Try repr(3.3) and print 3.3</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>      <span class="n">ev_long_str</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">N</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="n">t</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
      <span class="n">dec_point</span> <span class="o">=</span> <span class="n">ev_long_str</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-12'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-12'>#</a>
      </div>
      <p>In the very rare case that there is no decimal point:</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>      <span class="k">if</span> <span class="n">dec_point</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-13'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-13'>#</a>
      </div>
      <p>Technically this can return something like 10000, violating
our desired precision. But not likely.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">return</span> <span class="n">ev_long_str</span>
      <span class="k">else</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-14'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-14'>#</a>
      </div>
      <p>return value to 1 decimal place</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">return</span> <span class="n">ev_long_str</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">dec_point</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-15'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-15'>#</a>
      </div>
      <p>Don't really care what goes wrong -- result is the same.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>      <span class="k">return</span> <span class="bp">None</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-16'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-16'>#</a>
      </div>
      <p>The exposure time used.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">exposure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-17'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-17'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">entry</span><span class="o">.</span><span class="n">exif</span><span class="o">.</span><span class="n">exposure</span><span class="o">.</span><span class="n">text</span>
  <span class="n">shutter</span> <span class="o">=</span> <span class="n">exposure</span>
  <span class="n">speed</span> <span class="o">=</span> <span class="n">exposure</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-18'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-18'>#</a>
      </div>
      <p>Boolean value indicating whether the flash was used.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">flash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-19'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-19'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">entry</span><span class="o">.</span><span class="n">exif</span><span class="o">.</span><span class="n">flash</span><span class="o">.</span><span class="n">text</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-20'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-20'>#</a>
      </div>
      <p>The focal length used.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">focallength</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-21'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-21'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">entry</span><span class="o">.</span><span class="n">exif</span><span class="o">.</span><span class="n">focallength</span><span class="o">.</span><span class="n">text</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-22'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-22'>#</a>
      </div>
      <p>The fstop value used.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">fstop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-23'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-23'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">entry</span><span class="o">.</span><span class="n">exif</span><span class="o">.</span><span class="n">fstop</span><span class="o">.</span><span class="n">text</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-24'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-24'>#</a>
      </div>
      <p>The unique image ID for the photo.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">imageUniqueID</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-25'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-25'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">entry</span><span class="o">.</span><span class="n">exif</span><span class="o">.</span><span class="n">imageUniqueID</span><span class="o">.</span><span class="n">text</span>
  <span class="nb">id</span> <span class="o">=</span> <span class="n">imageUniqueID</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-26'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-26'>#</a>
      </div>
      <p>The iso equivalent value used.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">iso</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-27'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-27'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">entry</span><span class="o">.</span><span class="n">exif</span><span class="o">.</span><span class="n">iso</span><span class="o">.</span><span class="n">text</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-28'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-28'>#</a>
      </div>
      <p>The make of the camera used.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">make</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-29'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-29'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">entry</span><span class="o">.</span><span class="n">exif</span><span class="o">.</span><span class="n">make</span><span class="o">.</span><span class="n">text</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-30'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-30'>#</a>
      </div>
      <p>The model of the camera used.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">model</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-31'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-31'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">entry</span><span class="o">.</span><span class="n">exif</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">text</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-32'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-32'>#</a>
      </div>
      <p>Tags / keywords or labels.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">tags</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-33'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-33'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">tags_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entry</span><span class="o">.</span><span class="n">media</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">text</span>
    <span class="n">tags_text</span> <span class="o">=</span> <span class="n">tags_text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;, &#39;</span><span class="p">,</span> <span class="s">&#39;,&#39;</span><span class="p">)</span>
    <span class="n">tags_list</span> <span class="o">=</span> <span class="n">tags_text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">intra_property_delimiter</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tags_list</span><span class="p">)</span>
  <span class="n">labels</span> <span class="o">=</span> <span class="n">tags</span>
  <span class="n">keywords</span> <span class="o">=</span> <span class="n">tags</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-34'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-34'>#</a>
      </div>
      <p>The date/time the photo was taken.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-35'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-35'>#</a>
      </div>
      <p>Represented as the number of milliseconds since January 1st, 1970.
Note: The value of this element should always be identical to the value of
the <gphoto:timestamp>.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">entry</span><span class="o">.</span><span class="n">exif</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">text</span>
  <span class="n">when</span> <span class="o">=</span> <span class="n">time</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-36'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-36'>#</a>
      </div>
      <p>Overload from base.EntryToStringWrapper to use make_download_url
URL to the original uploaded image, suitable for downloading from.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">url_download</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-37'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-37'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">return</span> <span class="n">make_download_url</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url_direct</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-38'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-38'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">class</span> <span class="nc">AlbumEntryToStringWrapper</span><span class="p">(</span><span class="n">googlecl</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">BaseEntryToStringWrapper</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-39'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-39'>#</a>
      </div>
      <p>Access level of the album, one of "public", "private", or "unlisted".</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">access</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-40'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-40'>#</a>
      </div>
      <p>Convert values to ones the user selects on the web</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">txt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entry</span><span class="o">.</span><span class="n">access</span><span class="o">.</span><span class="n">text</span>
    <span class="k">if</span> <span class="n">txt</span> <span class="o">==</span> <span class="s">&#39;protected&#39;</span><span class="p">:</span>
      <span class="k">return</span> <span class="s">&#39;private&#39;</span>
    <span class="k">if</span> <span class="n">txt</span> <span class="o">==</span> <span class="s">&#39;private&#39;</span><span class="p">:</span>
      <span class="k">return</span> <span class="s">&#39;anyone with link&#39;</span>
    <span class="k">return</span> <span class="n">txt</span>
  <span class="n">visibility</span> <span class="o">=</span> <span class="n">access</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-41'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-41'>#</a>
      </div>
      <p>Location of the album (where pictures were taken).</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">location</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-42'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-42'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">entry</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">text</span>
  <span class="n">where</span> <span class="o">=</span> <span class="n">location</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-43'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-43'>#</a>
      </div>
      <p>When the album was published/uploaded in local time.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>  <span class="nd">@property</span>
  <span class="k">def</span> <span class="nf">published</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-44'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-44'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entry</span><span class="o">.</span><span class="n">published</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
                                      <span class="n">googlecl</span><span class="o">.</span><span class="n">calendar</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">QUERY_DATE_FORMAT</span><span class="p">)</span>
    <span class="n">date</span> <span class="o">=</span> <span class="n">date</span> <span class="o">-</span> <span class="n">googlecl</span><span class="o">.</span><span class="n">calendar</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">get_utc_timedelta</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&#39;%Y-%m-</span><span class="si">%d</span><span class="s">T%H:%M:%S&#39;</span><span class="p">)</span>
  <span class="n">when</span> <span class="o">=</span> <span class="n">published</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-45'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-45'>#</a>
      </div>
      <h6>######################################################################### &lt;span id="each-of-the-following-<em>run</em>*-functions-execute-a-particular-task.</h6>
<p>keyword-arguments:
-client:-client-to-the-service-being-used.
-options:-contains-all-attributes-required-to-perform-the-task
-args:-additional-arguments-passed-in-on-the-command-line,-may-or-may-not-be
-------required" href="each-of-the-following-<em>run</em>*-functions-execute-a-particular-task.</p>
<p>keyword-arguments:
-client:-client-to-the-service-being-used.
-options:-contains-all-attributes-required-to-perform-the-task
-args:-additional-arguments-passed-in-on-the-command-line,-may-or-may-not-be
-------required"&gt;
Each of the following <em>run</em>* functions execute a particular task.</p>
<p>Keyword arguments:
 client: Client to the service being used.
 options: Contains all attributes required to perform the task
 args: Additional arguments passed in on the command line, may or may not be
       required
</span></p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">_run_create</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-46'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-46'>#</a>
      </div>
      <p>Paths to media might be in options.src, args, both, or neither.
But both are guaranteed to be lists.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>  <span class="n">media_list</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="n">src</span> <span class="o">+</span> <span class="n">args</span>

  <span class="n">album</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">create_album</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="n">summary</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">summary</span><span class="p">,</span>
                              <span class="n">access</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">access</span><span class="p">,</span> <span class="n">date</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">date</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">media_list</span><span class="p">:</span>
    <span class="n">client</span><span class="o">.</span><span class="n">InsertMediaList</span><span class="p">(</span><span class="n">album</span><span class="p">,</span> <span class="n">media_list</span><span class="o">=</span><span class="n">media_list</span><span class="p">,</span>
                           <span class="n">tags</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">tags</span><span class="p">)</span>
  <span class="n">LOG</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;Created album: </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">album</span><span class="o">.</span><span class="n">GetHtmlLink</span><span class="p">()</span><span class="o">.</span><span class="n">href</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-47'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-47'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">_run_delete</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
  <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">query</span> <span class="ow">or</span> <span class="n">options</span><span class="o">.</span><span class="n">photo</span><span class="p">:</span>
    <span class="n">entry_type</span> <span class="o">=</span> <span class="s">&#39;media&#39;</span>
    <span class="n">search_string</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="n">query</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="n">entry_type</span> <span class="o">=</span> <span class="s">&#39;album&#39;</span>
    <span class="n">search_string</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="n">title</span>

  <span class="n">titles_list</span> <span class="o">=</span> <span class="n">googlecl</span><span class="o">.</span><span class="n">build_titles_list</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
  <span class="n">entries</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">build_entry_list</span><span class="p">(</span><span class="n">titles</span><span class="o">=</span><span class="n">titles_list</span><span class="p">,</span>
                                    <span class="n">query</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">query</span><span class="p">,</span>
                                    <span class="n">photo_title</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">photo</span><span class="p">)</span>
  <span class="k">if</span> <span class="ow">not</span> <span class="n">entries</span><span class="p">:</span>
    <span class="n">LOG</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;No </span><span class="si">%s</span><span class="s">s matching </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">entry_type</span><span class="p">,</span> <span class="n">search_string</span><span class="p">))</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="n">client</span><span class="o">.</span><span class="n">DeleteEntryList</span><span class="p">(</span><span class="n">entries</span><span class="p">,</span> <span class="n">entry_type</span><span class="p">,</span> <span class="n">options</span><span class="o">.</span><span class="n">prompt</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-48'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-48'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">_run_list</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
  <span class="n">titles_list</span> <span class="o">=</span> <span class="n">googlecl</span><span class="o">.</span><span class="n">build_titles_list</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
  <span class="n">entries</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">build_entry_list</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">owner</span> <span class="ow">or</span> <span class="n">options</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
                                    <span class="n">titles</span><span class="o">=</span><span class="n">titles_list</span><span class="p">,</span>
                                    <span class="n">query</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">query</span><span class="p">,</span>
                                    <span class="n">force_photos</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                                    <span class="n">photo_title</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">photo</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">entries</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">googlecl</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">compile_entry_string</span><span class="p">(</span><span class="n">PhotoEntryToStringWrapper</span><span class="p">(</span><span class="n">entry</span><span class="p">),</span>
                                             <span class="n">options</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">),</span>
                                             <span class="n">delimiter</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">delimiter</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-49'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-49'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">_run_list_albums</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
  <span class="n">titles_list</span> <span class="o">=</span> <span class="n">googlecl</span><span class="o">.</span><span class="n">build_titles_list</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
  <span class="n">entries</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">build_entry_list</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">owner</span> <span class="ow">or</span> <span class="n">options</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
                                    <span class="n">titles</span><span class="o">=</span><span class="n">titles_list</span><span class="p">,</span>
                                    <span class="n">force_photos</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">entries</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">googlecl</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">compile_entry_string</span><span class="p">(</span><span class="n">AlbumEntryToStringWrapper</span><span class="p">(</span><span class="n">entry</span><span class="p">),</span>
                                             <span class="n">options</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">),</span>
                                             <span class="n">delimiter</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">delimiter</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-50'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-50'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">_run_post</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
  <span class="n">media_list</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="n">src</span> <span class="o">+</span> <span class="n">args</span>
  <span class="k">if</span> <span class="ow">not</span> <span class="n">media_list</span><span class="p">:</span>
    <span class="n">LOG</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s">&#39;Must provide paths to media to post!&#39;</span><span class="p">)</span>
  <span class="n">album</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">GetSingleAlbum</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">owner</span> <span class="ow">or</span> <span class="n">options</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
                                <span class="n">title</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">album</span><span class="p">:</span>
    <span class="n">client</span><span class="o">.</span><span class="n">InsertMediaList</span><span class="p">(</span><span class="n">album</span><span class="p">,</span> <span class="n">media_list</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">tags</span><span class="p">,</span>
                           <span class="n">user</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">owner</span> <span class="ow">or</span> <span class="n">options</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
                           <span class="n">photo_name</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">photo</span><span class="p">,</span> <span class="n">caption</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">summary</span><span class="p">)</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="n">LOG</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s">&#39;No albums found that match &#39;</span> <span class="o">+</span> <span class="n">options</span><span class="o">.</span><span class="n">title</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-51'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-51'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">_run_get</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
  <span class="k">if</span> <span class="ow">not</span> <span class="n">options</span><span class="o">.</span><span class="n">dest</span><span class="p">:</span>
    <span class="n">LOG</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s">&#39;Must provide destination of album(s)!&#39;</span><span class="p">)</span>
    <span class="k">return</span>

  <span class="n">titles_list</span> <span class="o">=</span> <span class="n">googlecl</span><span class="o">.</span><span class="n">build_titles_list</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
  <span class="n">client</span><span class="o">.</span><span class="n">DownloadAlbum</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">dest</span><span class="p">,</span>
                       <span class="n">user</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">owner</span> <span class="ow">or</span> <span class="n">options</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
                       <span class="n">video_format</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">format</span> <span class="ow">or</span> <span class="s">&#39;mp4&#39;</span><span class="p">,</span>
                       <span class="n">titles</span><span class="o">=</span><span class="n">titles_list</span><span class="p">,</span>
                       <span class="n">photo_title</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">photo</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-52'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-52'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">_run_tag</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
  <span class="n">titles_list</span> <span class="o">=</span> <span class="n">googlecl</span><span class="o">.</span><span class="n">build_titles_list</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
  <span class="n">entries</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">build_entry_list</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">owner</span> <span class="ow">or</span> <span class="n">options</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
                                    <span class="n">query</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">query</span><span class="p">,</span>
                                    <span class="n">titles</span><span class="o">=</span><span class="n">titles_list</span><span class="p">,</span>
                                    <span class="n">force_photos</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                                    <span class="n">photo_title</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">photo</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">entries</span><span class="p">:</span>
    <span class="n">client</span><span class="o">.</span><span class="n">TagPhotos</span><span class="p">(</span><span class="n">entries</span><span class="p">,</span> <span class="n">options</span><span class="o">.</span><span class="n">tags</span><span class="p">,</span> <span class="n">options</span><span class="o">.</span><span class="n">summary</span><span class="p">)</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="n">LOG</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s">&#39;No matches for the title and/or query you gave.&#39;</span><span class="p">)</span>


<span class="n">TASKS</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;create&#39;</span><span class="p">:</span> <span class="n">googlecl</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">Task</span><span class="p">(</span><span class="s">&#39;Create an album&#39;</span><span class="p">,</span>
                                      <span class="n">callback</span><span class="o">=</span><span class="n">_run_create</span><span class="p">,</span>
                                      <span class="n">required</span><span class="o">=</span><span class="s">&#39;title&#39;</span><span class="p">,</span>
                                      <span class="n">optional</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;src&#39;</span><span class="p">,</span> <span class="s">&#39;date&#39;</span><span class="p">,</span>
                                                <span class="s">&#39;summary&#39;</span><span class="p">,</span> <span class="s">&#39;tags&#39;</span><span class="p">,</span> <span class="s">&#39;access&#39;</span><span class="p">]),</span>
         <span class="s">&#39;post&#39;</span><span class="p">:</span> <span class="n">googlecl</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">Task</span><span class="p">(</span><span class="s">&#39;Post photos to an album&#39;</span><span class="p">,</span>
                                    <span class="n">callback</span><span class="o">=</span><span class="n">_run_post</span><span class="p">,</span>
                                    <span class="n">required</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;title&#39;</span><span class="p">,</span> <span class="s">&#39;src&#39;</span><span class="p">],</span>
                                    <span class="n">optional</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;tags&#39;</span><span class="p">,</span> <span class="s">&#39;owner&#39;</span><span class="p">,</span> <span class="s">&#39;photo&#39;</span><span class="p">,</span>
                                              <span class="s">&#39;summary&#39;</span><span class="p">]),</span>
         <span class="s">&#39;delete&#39;</span><span class="p">:</span> <span class="n">googlecl</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">Task</span><span class="p">(</span><span class="s">&#39;Delete photos or albums&#39;</span><span class="p">,</span>
                                      <span class="n">callback</span><span class="o">=</span><span class="n">_run_delete</span><span class="p">,</span>
                                      <span class="n">required</span><span class="o">=</span><span class="p">[[</span><span class="s">&#39;title&#39;</span><span class="p">,</span> <span class="s">&#39;query&#39;</span><span class="p">]],</span>
                                      <span class="n">optional</span><span class="o">=</span><span class="s">&#39;photo&#39;</span><span class="p">),</span>
         <span class="s">&#39;list&#39;</span><span class="p">:</span> <span class="n">googlecl</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">Task</span><span class="p">(</span><span class="s">&#39;List photos&#39;</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">_run_list</span><span class="p">,</span>
                                    <span class="n">required</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;fields&#39;</span><span class="p">,</span> <span class="s">&#39;delimiter&#39;</span><span class="p">],</span>
                                    <span class="n">optional</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;title&#39;</span><span class="p">,</span> <span class="s">&#39;query&#39;</span><span class="p">,</span>
                                              <span class="s">&#39;owner&#39;</span><span class="p">,</span> <span class="s">&#39;photo&#39;</span><span class="p">]),</span>
         <span class="s">&#39;list-albums&#39;</span><span class="p">:</span> <span class="n">googlecl</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">Task</span><span class="p">(</span><span class="s">&#39;List albums&#39;</span><span class="p">,</span>
                                           <span class="n">callback</span><span class="o">=</span><span class="n">_run_list_albums</span><span class="p">,</span>
                                           <span class="n">required</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;fields&#39;</span><span class="p">,</span> <span class="s">&#39;delimiter&#39;</span><span class="p">],</span>
                                           <span class="n">optional</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;title&#39;</span><span class="p">,</span> <span class="s">&#39;owner&#39;</span><span class="p">]),</span>
         <span class="s">&#39;get&#39;</span><span class="p">:</span> <span class="n">googlecl</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">Task</span><span class="p">(</span><span class="s">&#39;Download albums&#39;</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">_run_get</span><span class="p">,</span>
                                   <span class="n">required</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;title&#39;</span><span class="p">,</span> <span class="s">&#39;dest&#39;</span><span class="p">],</span>
                                   <span class="n">optional</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;owner&#39;</span><span class="p">,</span> <span class="s">&#39;format&#39;</span><span class="p">,</span> <span class="s">&#39;photo&#39;</span><span class="p">]),</span>
         <span class="s">&#39;tag&#39;</span><span class="p">:</span> <span class="n">googlecl</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">Task</span><span class="p">(</span><span class="s">&#39;Tag/caption photos&#39;</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">_run_tag</span><span class="p">,</span>
                                   <span class="n">required</span><span class="o">=</span><span class="p">[[</span><span class="s">&#39;title&#39;</span><span class="p">,</span> <span class="s">&#39;query&#39;</span><span class="p">],</span>
                                             <span class="p">[</span><span class="s">&#39;tags&#39;</span><span class="p">,</span> <span class="s">&#39;summary&#39;</span><span class="p">]],</span>
                                   <span class="n">optional</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;owner&#39;</span><span class="p">,</span> <span class="s">&#39;photo&#39;</span><span class="p">])}</span>

</pre></div>
    </div>
  </div>
  <div class='clearall'></div>
</div>
</body>
